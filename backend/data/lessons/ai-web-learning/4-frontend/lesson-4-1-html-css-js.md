# Урок 4.1: HTML/CSS/JavaScript - Три кита веб-разработки

> **Модуль 4:** Frontend разработка  
> **Урок:** 4.1  
> **Длительность:** 30-40 минут  
> **Prerequisite:** Урок 1.1 (Client-Server архитектура)

---

## 🎯 Цели урока

После этого урока ты сможешь:
- ✅ Понимать роль HTML, CSS и JavaScript в веб-приложении
- ✅ Объяснить как эти три технологии работают вместе
- ✅ Знать когда нужен каждый инструмент
- ✅ Сформулировать задачу для Claude Code на создание frontend страницы
- ✅ Понимать как frontend связан с EngineCamPro v2

---

## 📖 Концепция: Три слоя веб-страницы

### Простое определение

Любая веб-страница состоит из **трёх слоёв**:
- **HTML** - структура и содержимое (ЧТО показать)
- **CSS** - визуальное оформление (КАК показать)
- **JavaScript** - интерактивность и логика (ЧТО делать при действиях)

### Зачем это нужно

Без разделения на слои:
- ❌ Код превращается в кашу
- ❌ Сложно поддерживать
- ❌ Невозможно переиспользовать стили
- ❌ Дизайнер и программист мешают друг другу

С разделением:
- ✅ Каждый слой решает свою задачу
- ✅ Можно менять дизайн не трогая структуру
- ✅ Можно добавить интерактивность не переписывая HTML
- ✅ Работать могут разные специалисты

### 🏗️ Аналогия: Строительство дома

Представь строительство дома:

```
┌─────────────────────────────────────────────────────┐
│           🏠 ВЕБ-СТРАНИЦА = ДОМ                      │
├─────────────────────────────────────────────────────┤
│                                                     │
│  📐 HTML = СКЕЛЕТ ДОМА (Каркас)                     │
│  ┌─────────────────────────────────┐               │
│  │  • Фундамент и стены            │               │
│  │  • Комнаты и их расположение    │               │
│  │  • Окна и двери                 │               │
│  │  • Структура здания             │               │
│  └─────────────────────────────────┘               │
│         ↓                                           │
│  🎨 CSS = ОТДЕЛКА (Дизайн)                          │
│  ┌─────────────────────────────────┐               │
│  │  • Цвет стен                    │               │
│  │  • Обои и напольное покрытие    │               │
│  │  • Мебель и декор               │               │
│  │  • Освещение                    │               │
│  └─────────────────────────────────┘               │
│         ↓                                           │
│  ⚡ JavaScript = ИНЖЕНЕРНЫЕ СИСТЕМЫ                 │
│  ┌─────────────────────────────────┐               │
│  │  • Электрика (свет включается)  │               │
│  │  • Сантехника (вода течёт)      │               │
│  │  • Лифт (движется вверх-вниз)   │               │
│  │  • Умный дом (автоматика)       │               │
│  └─────────────────────────────────┘               │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**HTML (структура):**
- Дом может стоять без отделки - будет некрасиво, но стоит
- Это основа, на которой всё держится
- "В доме 3 комнаты, 2 окна, 1 дверь" = HTML разметка

**CSS (дизайн):**
- Можно сделать косметический ремонт, не трогая стены
- Меняешь обои - структура дома не меняется
- "Стены синие, пол деревянный, шторы белые" = CSS стили

**JavaScript (интерактивность):**
- Нажал выключатель → загорелся свет
- Открыл кран → потекла вода
- Дом может работать и без автоматики, но с ней удобнее

---

## 🔍 Детальный разбор каждого слоя

### 📐 HTML - Язык структуры

**Что это:**
HTML (HyperText Markup Language) - язык разметки для создания структуры страницы.

**Роль в приложении:**
- Определяет ЧТО есть на странице (заголовки, текст, кнопки, формы)
- Создаёт семантическую структуру (что важно, что второстепенно)
- Определяет иерархию элементов (что внутри чего)

**Пример концепции (БЕЗ кода!):**
Ты говоришь: "Мне нужна страница с заголовком, формой ввода трёх параметров, кнопкой расчёта, и местом для графика результата"

Claude Code создаст структуру HTML:
- Главный заголовок
- Форма с полями ввода
- Кнопка
- Контейнер для графика

**Важно понимать:**
- HTML - это НЕ язык программирования (нет условий, циклов, переменных)
- Это язык РАЗМЕТКИ - описание структуры
- Браузер читает HTML и рисует элементы на экране

### 🎨 CSS - Язык стилизации

**Что это:**
CSS (Cascading Style Sheets) - язык для описания внешнего вида элементов.

**Роль в приложении:**
- Определяет КАК выглядят элементы (цвета, размеры, шрифты)
- Управляет расположением элементов (layout)
- Создаёт адаптивный дизайн (разные экраны - разное отображение)

**Пример концепции:**
У тебя есть кнопка (HTML создал её).
CSS говорит браузеру:
- Кнопка синяя
- Текст белый
- При наведении мыши - кнопка темнеет
- На телефоне кнопка на всю ширину экрана

**Важно понимать:**
- CSS не создаёт элементы, только оформляет существующие
- Один стиль можно применить к многим элементам
- CSS работает каскадом - стили наследуются и перекрываются

### ⚡ JavaScript - Язык интерактивности

**Что это:**
JavaScript - полноценный язык программирования, который работает в браузере.

**Роль в приложении:**
- Реагирует на действия пользователя (клики, ввод текста)
- Изменяет HTML и CSS динамически
- Отправляет запросы на backend (HTTP requests)
- Обрабатывает данные от сервера
- Рисует графики и визуализации

**Пример концепции:**
Пользователь нажал кнопку "Рассчитать":
1. JavaScript собирает данные из формы
2. Отправляет HTTP запрос на backend API
3. Получает результаты расчёта (JSON)
4. Рисует график на странице
5. Показывает результаты пользователю

**Важно понимать:**
- JavaScript - это НАСТОЯЩИЙ язык программирования
- Он выполняется в браузере пользователя (не на сервере!)
- С его помощью страница становится живой и интерактивной

---

## 🌐 Как три слоя работают вместе

### Схема взаимодействия

```
┌───────────────────────────────────────────────────────────┐
│                  БРАУЗЕР ПОЛЬЗОВАТЕЛЯ                      │
├───────────────────────────────────────────────────────────┤
│                                                           │
│  1️⃣ HTML загружается первым                               │
│     ┌──────────────────────────────┐                     │
│     │  <html>                      │                     │
│     │    <head> ... </head>        │                     │
│     │    <body>                    │                     │
│     │      Заголовок               │                     │
│     │      Форма ввода             │                     │
│     │      Кнопка                  │                     │
│     │      График                  │                     │
│     │    </body>                   │                     │
│     │  </html>                     │                     │
│     └──────────────────────────────┘                     │
│                 ↓                                         │
│  2️⃣ CSS применяется к элементам                           │
│     ┌──────────────────────────────┐                     │
│     │  Заголовок → синий, 24px     │                     │
│     │  Форма → белый фон, тень     │                     │
│     │  Кнопка → зелёная, круглая   │                     │
│     │  График → 800px ширина       │                     │
│     └──────────────────────────────┘                     │
│                 ↓                                         │
│  3️⃣ JavaScript добавляет логику                           │
│     ┌──────────────────────────────┐                     │
│     │  Кнопка.onClick = () => {    │                     │
│     │    собрать данные из формы   │                     │
│     │    отправить на backend      │                     │
│     │    получить результаты       │                     │
│     │    нарисовать график         │                     │
│     │  }                           │                     │
│     └──────────────────────────────┘                     │
│                                                           │
│  РЕЗУЛЬТАТ: Интерактивное приложение! 🎉                   │
│                                                           │
└───────────────────────────────────────────────────────────┘
```

### Практический пример: Форма расчёта кулачка

**HTML создаёт структуру:**
- Заголовок "EngineCamPro - Расчёт профиля кулачка"
- 3 поля ввода (base radius, lift, duration)
- Кнопка "Рассчитать"
- Пустой контейнер для графика

**CSS оформляет:**
- Форма по центру страницы
- Поля ввода с красивыми рамками
- Кнопка зелёная, при наведении темнеет
- График занимает 80% ширины экрана

**JavaScript добавляет магию:**
- При нажатии кнопки собирает значения из полей
- Отправляет POST запрос на `/api/cams/calculate`
- Получает массив координат профиля
- Рисует график используя библиотеку Chart.js
- Если ошибка - показывает красное сообщение

---

## 💡 Контекст применения

### Когда используется каждая технология

**HTML всегда нужен:**
- ✅ Любая веб-страница начинается с HTML
- ✅ Без HTML браузер не знает ЧТО показывать
- ✅ Даже если страница пустая - это HTML

**CSS опционален, но нужен почти всегда:**
- ✅ Для профессионального вида
- ✅ Для адаптивности (mobile + desktop)
- ⚠️ Можно обойтись без CSS, но будет выглядеть как сайт из 1995 года

**JavaScript опционален:**
- ✅ Нужен для интерактивности
- ✅ Нужен для связи с backend API
- ✅ Нужен для сложного UI
- ⚠️ Статические сайты (блоги, лендинги) могут работать без JS

### Для EngineCamPro v2

**HTML:**
- Структура страницы расчёта кулачков
- Формы ввода параметров
- Контейнеры для графиков

**CSS:**
- Профессиональный дизайн
- Адаптивная вёрстка для разных экранов
- Визуальные эффекты (тени, анимации)

**JavaScript:**
- Отправка данных на FastAPI backend
- Получение результатов расчёта
- Рисование графиков профиля кулачка
- Валидация ввода пользователя

---

## 🔄 Эволюция подхода: От Vanilla к React

### Vanilla JavaScript (то, что изучаем сейчас)

**Что это:**
"Чистый" JavaScript без фреймворков.

**Подход:**
- HTML → CSS → JavaScript напрямую манипулирует DOM
- Ты явно говоришь: "найди элемент, измени его содержимое"

**Плюсы:**
- ✅ Простой для понимания
- ✅ Не нужны дополнительные инструменты
- ✅ Подходит для простых страниц

**Минусы:**
- ❌ Много boilerplate кода
- ❌ Сложно поддерживать большие приложения
- ❌ Запутанный код при росте проекта

### React (следующий шаг)

**Что это:**
JavaScript библиотека для создания UI через компоненты.

**Подход:**
- Компонентная архитектура
- Declarative style (описываешь ЧТО, а не КАК)
- Автоматическое обновление UI при изменении данных

**Плюсы:**
- ✅ Легко масштабируется
- ✅ Переиспользуемые компоненты
- ✅ ИИ отлично пишет React код

**Минусы:**
- ⚠️ Более сложная концепция для начала
- ⚠️ Нужны дополнительные инструменты (build process)

### Почему сначала Vanilla?

**Важно понять основы:**
1. **Как работает браузер** - DOM, события, асинхронность
2. **Взаимодействие HTML/CSS/JS** - три слоя
3. **HTTP запросы** - Fetch API для связи с backend

После этого переход на React будет осознанным:
- Ты поймёшь ЧТО делает React под капотом
- Сможешь выбирать между Vanilla и React для разных задач
- Лучше сформулируешь задачи для Claude Code

**Для EngineCamPro v2:**
- Урок 4.2-4.3: Vanilla JavaScript для понимания основ
- Урок 4.4-4.6: React для production приложения

---

## 🤖 Работа с Claude Code

### Сценарий: Создание простой страницы расчёта

#### ❌ Плохой диалог (неэффективный)

```
Ты: Сделай мне страницу для расчёта кулачков

Claude Code: Какие параметры нужны? Какой должен быть дизайн? 
Как связываться с backend?
```

**Проблемы:**
- Слишком общая задача
- Не указаны технологии
- Нет требований к структуре
- ИИ вынужден угадывать

#### ✅ Хороший диалог (эффективный)

```
Ты: Создай веб-страницу для расчёта профилей кулачков.

Требования:
- HTML структура: заголовок, форма с 3 полями ввода (base_radius, 
  lift, duration), кнопка "Calculate", контейнер для результата
- CSS: современный дизайн, форма по центру, адаптивная вёрстка, 
  используй CSS Grid/Flexbox
- JavaScript: при нажатии кнопки собрать данные, отправить POST 
  запрос на http://localhost:8000/api/cams/calculate, отобразить 
  результат
- Валидация: все поля обязательны, только положительные числа
- Error handling: показать сообщение если backend вернул ошибку
- Один файл index.html со встроенным CSS и JS

Claude Code: [анализирует требования]
Создам страницу со следующей структурой:
- HTML5 doctype, semantic markup
- CSS в <style> теге (flexbox layout, modern design)
- JavaScript в <script> теге (fetch API, event listeners)
- Валидация и обработка ошибок

Применить? [Y/n]

Ты: Y

Claude Code: [создаёт index.html]
Создан файл index.html. Особенности:
- Форма с автозаполнением и валидацией
- Fetch API для отправки данных
- Try-catch для обработки ошибок
- Адаптивный дизайн (mobile + desktop)

Хочешь добавить что-то ещё?

Ты: Добавь loading индикатор пока ждём ответ от backend

Claude Code: [добавляет spinner и disable кнопки во время запроса]
Готово! Добавил:
- Spinner анимацию
- Disable кнопки во время запроса
- Текст "Calculating..." вместо "Calculate"
```

**Почему это эффективно:**
- ✅ Чёткие требования по всем трём слоям (HTML/CSS/JS)
- ✅ Указан формат (один файл)
- ✅ Описано поведение (что происходит при клике)
- ✅ Указан API endpoint
- ✅ Упомянута валидация и error handling
- ✅ Итеративное улучшение через диалог

---

## 🛠️ Практическое задание

### Задача

Создай простую веб-страницу, которая показывает информацию о твоём FastAPI backend (из Модуля 2).

### Работа с Claude Code

**Шаг 1:** Создай папку для frontend
```bash
cd ~/projects/enginecampro-v2
mkdir frontend
cd frontend
claude
```

**Шаг 2:** Диалог с Claude Code

```
Ты: Создай простую веб-страницу для тестирования backend API.

Требования:
- Один файл index.html со встроенным CSS и JavaScript
- HTML структура:
  * Заголовок "EngineCamPro API Tester"
  * Кнопка "Get API Info"
  * Контейнер для отображения результата
- CSS:
  * Современный минималистичный дизайн
  * Центрирование контента
  * Адаптивная вёрстка
- JavaScript:
  * При клике на кнопку отправить GET запрос на 
    http://localhost:8000/api/info
  * Отобразить JSON ответ в читаемом формате
  * Обработать ошибки если backend недоступен
- Валидация и error handling

Claude Code: [создаёт страницу]

Ты: [если нужны улучшения, продолжи диалог]
```

**Шаг 3:** Проверка результата

1. Убедись что FastAPI backend запущен:
```bash
cd ~/projects/enginecampro-v2/backend
uvicorn app.main:app --reload
```

2. Открой `index.html` в браузере:
```bash
open frontend/index.html
# или просто перетащи файл в браузер
```

3. Нажми кнопку "Get API Info" - должен отобразиться JSON ответ от backend

### Ожидаемый результат

- ✅ Страница открывается в браузере
- ✅ Кнопка работает
- ✅ При клике отправляется запрос на backend
- ✅ JSON ответ отображается в читаемом формате
- ✅ Если backend выключен - показывается сообщение об ошибке
- ✅ Дизайн выглядит современно и адаптивно

---

## ❓ Вопросы для самопроверки

Ответь на эти вопросы своими словами:

1. **Объясни роль HTML, CSS и JavaScript**
   - Используй аналогию с домом или придумай свою

2. **Почему важно разделять три слоя?**
   - Что будет если смешать всё в одну кашу?

3. **Когда можно обойтись без JavaScript?**
   - Какие типы сайтов не требуют JS?

4. **Для EngineCamPro v2:**
   - Что будет делать HTML в нашем приложении?
   - Что будет делать JavaScript?
   - Зачем нужен CSS помимо "чтобы было красиво"?

5. **Vanilla JS vs React:**
   - Почему мы сначала изучаем Vanilla JavaScript?
   - Когда React становится необходимым?

6. **Если бы ты давал задание Claude Code:**
   - Что нужно указать чтобы получить качественную страницу?
   - Какие требования критичны?

---

## 🔗 Связь с другими уроками

**Основано на уроках:**
- Урок 1.1: Client-Server - понимание где работает frontend
- Урок 1.2: HTTP протокол - JavaScript отправляет HTTP запросы
- Урок 1.4: REST API - JavaScript общается с нашим FastAPI backend

**Подготавливает к урокам:**
- Урок 4.2: Fetch API - отправка HTTP запросов из JavaScript
- Урок 4.3: React - следующий уровень после Vanilla JS
- Урок 5.1: Frontend-Backend интеграция - полная связь

**Связь с EngineCamPro:**
В следующих уроках мы создадим полноценный frontend для расчёта кулачков:
- HTML создаст формы ввода параметров
- CSS сделает профессиональный дизайн
- JavaScript отправит данные на FastAPI и нарисует графики

---

## ✅ Критерии завершения урока

**Понимание концепций:**
- [ ] Могу объяснить роль HTML, CSS, JavaScript
- [ ] Понимаю аналогию с домом (структура, отделка, инженерия)
- [ ] Знаю когда какая технология нужна
- [ ] Понимаю разницу между Vanilla JS и React

**Практические навыки:**
- [ ] Могу сформулировать эффективную задачу для Claude Code
- [ ] Понимаю что должно быть в требованиях (HTML, CSS, JS)
- [ ] Знаю как проверить связь frontend-backend
- [ ] Выполнил практическое задание

**Готовность к следующему уроку:**
- [ ] Создана простая веб-страница
- [ ] Страница успешно общается с backend API
- [ ] Понимаю как работает HTTP запрос из браузера
- [ ] Готов изучать Fetch API детальнее

---

**Статус урока:** ⏳ Не начат / 🔄 В процессе / ✅ Завершён  
**Дата начала:** _________  
**Дата завершения:** _________

---

## 📚 Дополнительные материалы (опционально)

Если хочешь узнать больше:
- [MDN Web Docs](https://developer.mozilla.org/) - лучшая документация по HTML/CSS/JS
- [JavaScript.info](https://javascript.info/) - подробный учебник по JavaScript

**НО!** Это не обязательно. Главное - понять концепции из этого урока и уметь работать с Claude Code.